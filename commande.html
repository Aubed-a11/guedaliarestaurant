<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Menu Restaurant Interactif</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Poppins', sans-serif;
    background: url('https://images.unsplash.com/photo-1600891964599-f61ba0e24092?auto=format&fit=crop&w=1600&q=80') no-repeat center center fixed;
    background-size: cover;
    margin: 0;
    padding: 0;
    color: #fff;
  }

  header {
    background: rgba(255, 110, 0, 0.9);
    color: white;
    padding: 25px 20px;
    text-align: center;
    font-size: 2em;
    font-weight: bold;
    letter-spacing: 2px;
    text-shadow: 2px 2px 6px rgba(0,0,0,0.4);
    position: relative;
    box-shadow: 0 5px 10px rgba(0,0,0,0.2);
  }

  .home-btn {
    position: absolute;
    top: 15px;
    right: 20px;
    background: rgba(255,255,255,0.9);
    color: #ff6e00;
    font-weight: 600;
    padding: 8px 15px;
    border-radius: 8px;
    text-decoration: none;
    transition: background 0.3s, color 0.3s;
  }
  .home-btn:hover { background: #ff6e00; color: #fff; }

  .categories {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    padding: 30px 10px;
    gap: 20px;
  }
.category-card {
  width: 250px;
  height: 110px;
  border-radius: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0,0,0,0.75);
  cursor: pointer;
  box-shadow: 0 6px 15px rgba(0,0,0,0.35);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.category-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 12px 25px rgba(0,0,0,0.5);
}

.category-card span {
  font-size: 1.3em;
  font-weight: 700;
  text-transform: uppercase;
  padding: 10px 18px;
  border-radius: 12px;
  z-index: 2;
  text-align: center;
  white-space: nowrap;
}



  /* Liste produits */
  .product-list {
    max-width: 900px;
    margin: 30px auto;
    background: rgba(0,0,0,0.6);
    border-radius: 15px;
    padding: 20px;
  }

  .product-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 0;
    border-bottom: 1px solid rgba(255,255,255,0.2);
  }

  .product-item:last-child { border-bottom: none; }

  .product-name {
    font-weight: 600;
  }

  .product-desc {
    font-size: 0.9em;
    color: #ddd;
  }

  .product-price {
    font-weight: 700;
    margin-right: 20px;
  }

  .order-btn {
    background: #ff6e00;
    border: none;
    color: white;
    padding: 8px 15px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: background 0.3s;
  }

  .order-btn:hover { background: #ff8c33; }

  .cart {
    max-width: 900px;
    margin: 20px auto;
    background: rgba(255,255,255,0.1);
    border-radius: 15px;
    padding: 15px;
  }

  .cart h3 { margin-top: 0; }

  .cart-item { display: flex; justify-content: space-between; margin-bottom: 10px; }

  .checkout-btn {
    margin-top: 15px;
    padding: 10px 20px;
    font-size: 1em;
    font-weight: bold;
    background: #28a745;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    color: white;
    transition: background 0.3s;
  }
  .checkout-btn:hover { background: #45c65a; }
/* Overlay coloré par catégorie */


/* Titre catégorie */
.category-card span {
  z-index: 2;
  padding: 6px 12px;
  border-radius: 10px;
}

/* Couleurs par catégorie */
.category-card[data-cat="Entrées"] span { background:#28a745; }
.category-card[data-cat="Chawarma"] span { background:#ff6e00; }
.category-card[data-cat="Sandwich"] span { background:#17a2b8; }
.category-card[data-cat="Plats"] span { background:#dc3545; }
.category-card[data-cat="Burger"] span { background:#ffc107; color:#000; }
.category-card[data-cat="pizzas"] span { background:#fd7e14; }
.category-card[data-cat="Sp Africaines"] span { background:#6f42c1; }
.category-card[data-cat="Accompagnements"] span { background:#20c997; }
.category-card[data-cat="Nos Pates"] span { background:#0d6efd; }
.category-card[data-cat="desserts"] span { background:#e83e8c; }
.category-card[data-cat="boissons"] span { background:#6610f2; }
.category-card[data-cat="Jus"] span { background:#198754; }
.category-card[data-cat="Consommation"] span { background:#343a40; }
.category-card[data-cat="Vins"] span { background:#800020; }

/* ACCORDÉON MOBILE */
@media (max-width: 768px) {
  .product-list {
    padding: 10px;
  }

  .product-item {
    flex-direction: column;
    align-items: stretch;
    background: rgba(255,255,255,0.08);
    border-radius: 12px;
    margin-bottom: 10px;
    padding: 10px;
  }

  .product-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
  }

  .product-desc {
    display: none;
    margin-top: 8px;
  }

  .product-item.active .product-desc {
    display: block;
  }
}
.qty-box {
  display: flex;
  align-items: center;
  gap: 8px;
}

.qty-box button {
  background: #ff6e00;
  border: none;
  color: white;
  font-size: 1.1em;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  cursor: pointer;
}

.qty-box span {
  font-weight: bold;
  min-width: 20px;
  text-align: center;
}

</style>
</head>
<body>

<header>
  Guédalia vous propose son menu
  <a href="index.html" class="home-btn">Accueil</a>
</header>

<div class="categories" id="categories-container"></div>

<div id="product-container"></div>
<div id="cart-container" class="cart" style="display:none;">
  <h3>Panier</h3>
  <div id="cart-items"></div>
  <button class="checkout-btn" id="checkout-btn">Passer la commande</button>
</div>

<script>
  // Produits par catégorie
  let products = {
    
    Entrées: [
      {name:"Salade verte simple", desc:"laitue, oignon, tomates", price:1000},
      {name:"Salade parisienne", desc:"laitue, oignon, tomates, concombre, poulet, pomme de terre, champignons", price:2000},
      {name:"Salade fattouche", desc:"laitue, oignon, tomates, poivron vert, radis, menthe, huile d’olive, pain grillé", price:2500},
      {name:"Salade du chef", desc:"Laitue, tomates, jambon de dinde, maïs doux, concombre, olive noire, poulet grillé, fromage", price:3000},
      {name:"Salade d’avocat aux crevettes ou thon", desc:"laitue, tomates, oignon, avocat, crevettes ou thon, olive verte", price:3500},
      {name:"Salade composée", desc:"laitue, pomme de terre, petits pois, oignon, betterave, concombre, spaghetti, mayonnaise, thon, oeuf dur, carottes", price:3500},
      {name:"Salade niçoise", desc:"laitue, tomates, haricot vert, pomme vapeur, oignon, thon, filet d’anchois, olive verte", price:3500},
      {name:"Salade Guédalia", desc:"laitue, tomates, petits pois, pomme de terre, maïs doux, avocat, poulet, poivron vert", price:4000}
    ],
    Chawarma: [
      {name:"Chawarma végétarien", desc:"Légumes et sauce", price:1000},
      {name:"Chawarma kafta viande", desc:"Kafta de viande grillée", price:1500},
      {name:"Chawarma poisson", desc:"Poisson assaisonné", price:1500},
      {name:"Chawarma poulet", desc:"Poulet mariné et grillé", price:1500},
      {name:"Chawarma viande steak", desc:"Steak de viande", price:1500},
      {name:"Chawarma kafta poulet", desc:"Kafta de poulet", price:2000},
      {name:"Chawarma kafta poulet + fromage", desc:"Kafta poulet avec fromage", price:2000},
      {name:"Chawarma kafta viande + fromage", desc:"Kafta viande avec fromage", price:2000},
      {name:"Chawarma double kafta viande", desc:"Double portion de kafta viande", price:2000},
      {name:"Chawarma Guédalia - poulet + viande steak", desc:"Poulet et steak", price:2500},
      {name:"Chawarma double kafta poulet", desc:"Double portion kafta poulet", price:2500}
    ],
    Sandwich :[
    {name:"Boulettes de viande", desc:"Boulettes assaisonnées", price:1500},
    {name:"Crispy sandwich", desc:"Poulet croustillant", price:1500},
    {name:"Croque monsieur", desc:"Pain de mie, jambon, fromage, cheese tomate, laitue, oignon", price:1500},
    {name:"Croque madame", desc:"Croque monsieur avec oeuf", price:1500},
    {name:"Fahita sandwich", desc:"pain fahita, blanc de poulet, poivron, mozzarella, mayonnaise", price:1500},
    {name:"Hot dog cheese", desc:"Saucisse, moutarde, fromage", price:1500},
    {name:"Philadelphia", desc:"Viande de boeuf, oignon, poivron, champignons, fromage, mayonnaise", price:1500},
    {name:"Sandwich crevettes", desc:"Crevettes assaisonnées", price:1500},
    {name:"Sandwich langue de boeuf", desc:"Langue de boeuf assaisonnée", price:1500},
    {name:"Taouk sandwich", desc:"blanc de poulet, crème, ail, cornichons", price:1500}
  ],
  Plats:[
    {name:"Assiette Chawarma poulet", desc:"Assiette complète avec poulet", price:3500},
    {name:"Assiette Chawarma viande kafta", desc:"Assiette kafta viande", price:3500},
    {name:"Assiette Chawarma Guédalia", desc:"Pain, makouk, poulet grillé, fromage, champignon, portion frite, sauce, grenadine", price:4000},
    {name:"Brochette de gésier de dinde", desc:"Gésier de dinde grillé", price:3000},
    {name:"Brochette de taouk (poulet)", desc:"Poulet mariné et grillé", price:4000},
    {name:"Brochette de viande", desc:"Viande grillée", price:4500},
    {name:"Brochette Guédalia (poulet, viande, légumes)", desc:"Assortiment complet", price:5500},
    {name:"Choukouya mouton", desc:"Mouton grillé assaisonné", price:4500},
    {name:"Choukouya poulet", desc:"Poulet grillé assaisonné", price:4500},
    {name:"Demi poulet chair grillé", desc:"Demi poulet grillé nature", price:4000},
    {name:"Demi poulet KFC", desc:"Demi poulet frit façon KFC", price:4500},
    {name:"Demi poulet chair sauté aux légumes", desc:"Poulet sauté aux légumes", price:5000},
    {name:"Escalope de poulet nature", desc:"Escalope nature grillée", price:4000},
    {name:"Poulet bicyclette entier grillé", desc:"Poulet entier grillé", price:4500},
    {name:"Lapin grillé sauce BBQ", desc:"Lapin entier grillé BBQ", price:4000},
    {name:"Sauté de lapin à la pomme vapeur", desc:"Lapin sauté avec légumes vapeur", price:4500},
    {name:"Mouton grillé sauce BBQ", desc:"Mouton grillé BBQ", price:4000},
    {name:"Steak grillé sauce forestière", desc:"Steak avec sauce forestière", price:4500},
    {name:"Langue de boeuf grillé sauce au choix", desc:"Sauce forestière, basquaise ou tomate", price:4500},
    {name:"Crevettes provençales", desc:"Crevettes sautées à la provençale", price:4000},
    {name:"Crevettes sautées à l’ail", desc:"Crevettes à l’ail", price:4000},
    {name:"Capitaine forestière", desc:"Poisson forestière", price:4500},
    {name:"Poisson entier grillé BBQ", desc:"Carpe rouge, bar, dorade, tilapia", price:5000}
  ],
  Burger:[    {name:"Burger végétarien", desc:"Pain burger, laitue, oignon, tomates, frites", price:"1000/1500"},
    {name:"Hamburger", desc:"Pain burger, viande burger, frites, oignon, tomates", price:"1500/2000"},
    {name:"Cheese burger", desc:"Pain burger, viande steak, laitue, fromage", price:"2000/2500"},
    {name:"Chicken burger", desc:"Poulet, frites, laitue, choux, oignon, tomates", price:"2000/2500"},
    {name:"Fish burger", desc:"Pain burger, filet de poisson, laitue, tomates", price:"2000/2500"},
    {name:"Double hamburger", desc:"Pain burger, viande burger, frites, oignon, tomates", price:"2500/3000"},
    {name:"Double cheese burger", desc:"Pain burger, viande burger, frites, oignon, tomates", price:"2500/3500"},
    {name:"Burger Guédalia", desc:"Pain burger, viande steak, jambon, oignon, tomates, fromage", price:"2500/3000"}],
  pizzas: [
      {name:"Pizza marguerita", desc:"Fromage, sauce tomate, olives noires", price:3000},
    {name:"Pizza pêcheur", desc:"Fromage, crevettes, thon, moules, champignons, olives noires", price:4000},
    {name:"Pizza quatre fromages", desc:"Sauce cocktail, mozza, emmental, cheddar, gruyère, olives noires", price:4000},
    {name:"Pizza mexicaine", desc:"Fromage, sauce tomate, oignon, viande hachée, maïs doux, olives noires", price:4000},
    {name:"Pizza reine", desc:"Fromage, jambon, champignons, olives noires", price:4000},
    {name:"Pizza végétarienne", desc:"Fromage, tomate, oignon, champignons, maïs doux, poivron, olives noires", price:4000},
    {name:"Pizza BBQ", desc:"Fromage, poulet, maïs doux, poivrons verts, jambon, olives noires", price:4500},
    {name:"Pizza quatre saisons", desc:"Fromage, jambon, champignons, thon, poivron, olives noires", price:4500},
    {name:"Suggestion du chef", desc:"Crème, poulet, mozza, viande de boeuf, maïs doux, poivre, oignon, olives noires", price:4500},
    {name:"Pizza Guédalia", desc:"Fromage, viande hachée, poulet, crème fraîche, poivron vert, oignon, maïs doux, olive noire, thon, jambon", price:5000}
  ],
  Sp_Africaines:[
    {name:"Sauce asrokouin", desc:"", price:3000},
    {name:"Monyo", desc:"", price:3500},
    {name:"Sauce d’arachide", desc:"", price:3500},
    {name:"Sauce gombo, crincrin royal", desc:"", price:3500},
    {name:"Sauce légumes", desc:"Gboman, tchiyaho, amanvivê", price:3500},
    {name:"Tête de mouton complet (gbota xin n’sunou)", desc:"", price:3500},
    {name:"Bomiwô au poulet entier", desc:"", price:4000},
    {name:"Couscous royal", desc:"Mouton, légumes", price:4000},
    {name:"Dakouin", desc:"", price:4000},
    {name:"Poulet kédjénou", desc:"", price:4000},
    {name:"Poulet yassa", desc:"Tilapia, carpe, bar, dorade", price:4000},
    {name:"Sauce mouton au fromage", desc:"", price:4000},
    {name:"Sauce poissons entiers frais", desc:"", price:5000}
  ],
 Accompagnements : [
  {name: "Akassa", desc:"", price:500},
  {name: "Alloco", desc:"", price:500},
  {name: "Attiéké", desc:"", price:500},
  {name: "Couscous", desc:"", price:500},
  {name: "Frites", desc:"", price:500},
  {name: "Frites nature", desc:"", price:500},
  {name: "Haricots verts sautés", desc:"", price:500},
  {name: "Légumes sautés", desc:"", price:500},
  {name: "Pâte de maïs", desc:"", price:500},
  {name: "Pâte noire", desc:"", price:500},
  {name: "Pâte rouge", desc:"", price:500},
  {name: "Piron blanc ou rouge", desc:"", price:500},
  {name: "Pommes de terre sautées", desc:"", price:500},
  {name: "Pommes vapeur", desc:"", price:500},
  {name: "Purée de pommes de terre", desc:"", price:500},
  {name: "Riz au beurre", desc:"", price:500},
  {name: "Riz blanc", desc:"", price:500},
  {name: "Spaghetti", desc:"", price:500}
],
Nos_Pates : [
  {name: "Spaghetti sauté + omelette", desc:"", price:1000},
  {name: "Spaghetti bolognaise", desc:"", price:2500},
  {name: "Spaghetti aux boulettes de viande", desc:"", price:2500},
  {name: "Spaghetti Guédalia", desc:"Viande de boeuf, légumes", price:3000},
  {name: "Penne forestière", desc:"", price:2500}
],
    desserts: [
      {name: "Crêpe au sucre", desc:"", price:1000},
  {name: "Crêpe choco", desc:"", price:1000},
  {name: "Crêpe salée", desc:"", price:1000},
  {name: "Crêpe au jambon fromage", desc:"", price:1500},
  {name: "Yaourt déguê couscous mil", desc:"", price:1000},
  {name: "Déguê au raisin", desc:"", price:1000},
  {name: "Yaourt aux noisettes d’acajou", desc:"", price:1000}
    ],
    boissons: [
       {name:"Possotomè 0,5L", desc:"", price:500},
  {name:"Possotomè 1L", desc:"", price:1000},
  {name:"Fifa 1L", desc:"", price:1000},
  {name:"Comtesse", desc:"", price:1000},
  {name:"Possotomè gazéifié", desc:"", price:1000},
  {name:"Béninoise", desc:"", price:700},
  {name:"Beaufort", desc:"", price:700},
  {name:"Pils", desc:"", price:700},
  {name:"Eku", desc:"", price:800},
  {name:"Awoyo", desc:"", price:1000},
  {name:"Castel", desc:"", price:1000},
  {name:"Dopel lager", desc:"", price:1000},
  {name:"Flag", desc:"", price:1000},
  {name:"Guiness", desc:"", price:1000},
  {name:"Racines", desc:"", price:1000},
  {name:"Tékila bière", desc:"", price:1000},
  {name:"Vody", desc:"", price:1000},
  {name:"Heineken", desc:"", price:1500},
  {name:"Savana", desc:"", price:1500},
  {name:"Desperado", desc:"", price:2500},
  {name:"Tékila", desc:"", price:600},
  {name:"Coca-cola", desc:"", price:600},
  {name:"Kwabo citron 1,3L", desc:"", price:600},
  {name:"Malta tonic", desc:"", price:600},
  {name:"Moka", desc:"", price:600},
  {name:"Sprite", desc:"", price:600},
  {name:"Youki", desc:"", price:600},
  {name:"BOSS", desc:"", price:1000},
  {name:"XXL", desc:"", price:1000}
    ],
    Jus:[
      {name:"Jus de citron", desc:"", price:800},
  {name:"Jus d’ananas", desc:"", price:1000},
  {name:"Jus de gingembre", desc:"", price:1000},
  {name:"Jus de goyave", desc:"", price:1000},
  {name:"Jus d’orange", desc:"", price:1000},
  {name:"Jus de pastèque", desc:"", price:1000},
  {name:"Jus de pomme", desc:"", price:1000}
    ],
    Consommation:[
      {name:"Cointreau", desc:"", price:[1000,10000]},
  {name:"William Lawsons", desc:"", price:[1500,20000]},
  {name:"Campari", desc:"", price:[2000,20000]},
  {name:"Golden Gin", desc:"", price:[2000,30000]},
  {name:"Jack Daniel’s", desc:"", price:[2500,30000]},
  {name:"Martini", desc:"", price:[2500,30000]},
  {name:"Orange sec", desc:"", price:[2500,30000]},
  {name:"Rhum", desc:"", price:[2500,30000]},
  {name:"Suze", desc:"", price:[2500,30000]},
  {name:"VAT 69", desc:"", price:[2500,30000]},
  {name:"Vodka", desc:"", price:[2500,30000]},
  {name:"Pastis 51", desc:"", price:[3000,30000]},
  {name:"Red Label", desc:"", price:[3000,30000]},
  {name:"Tquila", desc:"", price:[3000,30000]},
  {name:"Black Label", desc:"", price:[3000,35000]},
  {name:"Hennessy", desc:"", price:[4000,50000]}
    ],
    Vins:[
      {name:"Baron Vincent", desc:"Vin rouge", price:12000, subcategory:"Vins rouges"},
  {name:"Château de Belleville", desc:"Vin rouge", price:12000, subcategory:"Vins rouges"},
  {name:"Comte de Bothwell", desc:"Vin rouge", price:12000, subcategory:"Vins rouges"},
  {name:"Calvet (grande réserve)", desc:"Vin rouge", price:15000, subcategory:"Vins rouges"},
  {name:"La Baume", desc:"Vin rouge", price:15000, subcategory:"Vins rouges"},
  {name:"La Chrétienne", desc:"Vin rouge", price:15000, subcategory:"Vins rouges"},
  {name:"Mouton cadet", desc:"Vin rouge", price:15000, subcategory:"Vins rouges"},
  {name:"Lomiscehenauer", desc:"Vin rouge", price:17000, subcategory:"Vins rouges"},
  {name:"Duchesse", desc:"Vin rouge", price:20000, subcategory:"Vins rouges"},
  {name:"Mouton cadet réserve", desc:"Vin rouge", price:25000, subcategory:"Vins rouges"},

  // VINS BLANCS
  {name:"Baron de Cenac (moelleux)", desc:"Vin blanc", price:10000, subcategory:"Vins blancs"},
  {name:"Château de Belleville", desc:"Vin blanc", price:10000, subcategory:"Vins blancs"},
  {name:"La Chrétienne moelleux", desc:"Vin blanc", price:17000, subcategory:"Vins blancs"},
  {name:"Vin d’Alsace Riesling", desc:"Vin blanc", price:20000, subcategory:"Vins blancs"},

  // VINS ROSÉS
  {name:"Côte de Provence", desc:"Vin rosé", price:17000, subcategory:"Vins rosés"},
  {name:"Rosé d’Anjou", desc:"Vin rosé", price:18000, subcategory:"Vins rosés"},
  {name:"Listel gris", desc:"Vin rosé", price:19000, subcategory:"Vins rosés"},
  {name:"Sainte Sidoine", desc:"Vin rosé", price:25000, subcategory:"Vins rosés"},

  // VINS MOUSSEUX
  {name:"Vin mousseux", desc:"Vin mousseux", price:15000, subcategory:"Vins mousseux"},

  // CHAMPAGNES
  {name:"Belaire", desc:"Champagne", price:10000, subcategory:"Champagnes"},
  {name:"Perlant", desc:"Champagne", price:17000, subcategory:"Champagnes"},
  {name:"Castel 1er", desc:"Champagne", price:20000, subcategory:"Champagnes"},
  {name:"Cuvée blanche", desc:"Champagne", price:20000, subcategory:"Champagnes"},
  {name:"Cuvée Rosée", desc:"Champagne", price:20000, subcategory:"Champagnes"},
  {name:"Moët", desc:"Champagne", price:50000, subcategory:"Champagnes"},
  {name:"Duchesse", desc:"Champagne", price:60000, subcategory:"Champagnes"},
  {name:"Veuve Clicquot", desc:"Champagne", price:70000, subcategory:"Champagnes"},
  {name:"Nicolas Feuillâtes", desc:"Champagne", price:70000, subcategory:"Champagnes"},
  {name:"Ruinart", desc:"Champagne", price:120000, subcategory:"Champagnes"}
    ]
  };

 
  
   const categoriesContainer = document.getElementById('categories-container');
  const productContainer = document.getElementById('product-container');
  const cartContainer = document.getElementById('cart-container');
  const cartItemsContainer = document.getElementById('cart-items');

let cart = [];

  for (let category in products) {
  const card = document.createElement('div');
  card.className = 'category-card';
  card.setAttribute('data-cat', category.replace(/_/g, ' '));

  card.innerHTML = `
    <span>${category.replace(/_/g, ' ')}</span>
  `;

  card.onclick = () => showProducts(category);
  categoriesContainer.appendChild(card);
}

function changeQty(category, index, delta) {
  const span = document.getElementById(`qty-${category}-${index}`);
  let qty = parseInt(span.textContent) + delta;
  if (qty < 0) qty = 0;
  span.textContent = qty;
}

function addToCart(category, index) {
  const qtySpan = document.getElementById(`qty-${category}-${index}`);
  const qty = parseInt(qtySpan.textContent);

  if (qty === 0) {
    alert("Veuillez choisir une quantité");
    return;
  }

  const product = products[category][index];

  // Gestion des prix multiples (ex: 1000/1500)
  let unitPrice;
  if (typeof product.price === 'number') {
    unitPrice = product.price;
  } else if (typeof product.price === 'string') {
    unitPrice = parseInt(product.price.split('/')[0]);
  } else if (Array.isArray(product.price)) {
    unitPrice = product.price[0];
  }

  const existing = cart.find(p => p.name === product.name);

  if (existing) {
    existing.qty += qty;
  } else {
    cart.push({
      name: product.name,
      unitPrice: unitPrice,
      qty: qty
    });
  }

  qtySpan.textContent = 0;
  cartContainer.style.display = 'block';
  renderCart();
}

  // Fonction pour afficher les produits d'une catégorie
  function showProducts(category) {
    if(!products[category]) {
      productContainer.innerHTML = `<p style="text-align:center;color:white;">Aucun produit dans cette catégorie</p>`;
      return;
    }

    productContainer.innerHTML = `<div class="product-list"></div>`;
    const list = productContainer.querySelector('.product-list');

    products[category].forEach((prod, i) => {
      const item = document.createElement('div');
      item.classList.add('product-item');
     item.innerHTML = `
  <div class="product-header" onclick="this.parentElement.classList.toggle('active')">
    <div>
      <div class="product-name">${prod.name}</div>
    </div>
    <strong>${typeof prod.price === 'number' ? prod.price.toLocaleString() : prod.price} FCFA</strong>
  </div>

  <div class="product-desc">${prod.desc}</div>

  <div style="display:flex;justify-content:space-between;align-items:center;margin-top:10px;">
    <div class="qty-box">
      <button onclick="changeQty('${category}', ${i}, -1)">−</button>
      <span id="qty-${category}-${i}">0</span>
      <button onclick="changeQty('${category}', ${i}, 1)">+</button>
    </div>
    <button class="order-btn" onclick="addToCart('${category}', ${i})">Ajouter</button>
  </div>
`;

      list.appendChild(item);
    });
  }

 
function renderCart() {
  cartItemsContainer.innerHTML = '';
  let total = 0;

  cart.forEach((item, index) => {
    const lineTotal = item.unitPrice * item.qty;
    total += lineTotal;

    cartItemsContainer.innerHTML += `
      <div class="cart-item">
        <span>${item.name} × ${item.qty}</span>
        <span>${lineTotal.toLocaleString()} FCFA</span>
        <button onclick="removeFromCart(${index})"
          style="background:red;color:white;border:none;border-radius:5px;padding:2px 6px;cursor:pointer;">
          ✕
        </button>
      </div>
    `;
  });

  cartItemsContainer.innerHTML += `
    <hr>
    <strong>Total : ${total.toLocaleString()} FCFA</strong>
  `;
}

  function removeFromCart(index) {
  cart.splice(index,1);
  renderCart();
  if(cart.length === 0) cartContainer.style.display = 'none';
}


  // Checkout
  document.getElementById('checkout-btn').addEventListener('click', () => {
  if (cart.length === 0) {
    alert('Votre panier est vide !');
    return;
  }

  const total = cart.reduce((sum, item) => sum + item.unitPrice * item.qty, 0);

  const choice = prompt(
    `Total : ${total.toLocaleString()} FCFA\n` +
    `Choisissez le mode de paiement :\n1 = Momo\n2 = Espèce`
  );

  if (choice === '1') {
    const text = encodeURIComponent(
      `Bonjour, je voudrais commander :\n\n` +
      cart.map(i => `${i.name} × ${i.qty} = ${(i.unitPrice * i.qty).toLocaleString()} FCFA`).join('\n') +
      `\n\nTOTAL : ${total.toLocaleString()} FCFA`
    );
    window.open(`https://wa.me/22921359583?text=${text}`, '_blank');
  } else if (choice === '2') {
    alert('Merci ! Paiement en espèce à la livraison.');
  } else {
    alert('Option invalide');
  }
});

</script>

</body>
</html>



